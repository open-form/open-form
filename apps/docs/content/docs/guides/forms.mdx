---
title: Forms
description: Create, fill, and render a simple lease agreement
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

This guide walks through creating a lease agreement, filling it with data, and rendering the output.

<Steps>

<Step>
## Create a new project

Create a new project, set up the directory structure, and download the W-9 form:

<Tabs items={['npm', 'pnpm', 'yarn', 'bun']} groupId="package-manager" persist>
  <Tab value="npm">
    ```bash
    mkdir my-form && cd my-form
    npm init -y
    ```
  </Tab>
  <Tab value="pnpm">
    ```bash
    mkdir my-form && cd my-form
    pnpm init -y
    ```
  </Tab>
  <Tab value="yarn">
    ```bash
    mkdir my-form && cd my-form
    yarn init -y
    ```
  </Tab>
  <Tab value="bun">
    ```bash
    mkdir my-form && cd my-form
    bun init -y
    ```
  </Tab>
</Tabs>
</Step>


<Step>
## Install the SDK

Install the SDK and the filesystem resolver.

<Tabs items={['npm', 'pnpm', 'yarn', 'bun']} groupId="package-manager" persist>
  <Tab value="npm">
    ```bash
    npm install @open-form/sdk
    ```
  </Tab>
  <Tab value="pnpm">
    ```bash
    pnpm add @open-form/sdk
    ```
  </Tab>
  <Tab value="yarn">
    ```bash
    yarn add @open-form/sdk
    ```
  </Tab>
  <Tab value="bun">
    ```bash
    bun add @open-form/sdk
    ```
  </Tab>
</Tabs>
</Step>

<Step>
## Define the Form

A form needs a name, fields, and parties. Here's a simple lease agreement:

```ts tab="Object Pattern"
import { open } from '@open-form/sdk'

const lease = open.form({
  name: 'lease-agreement',
  version: '1.0.0',
  title: 'Residential Lease Agreement',
  parties: {
    landlord: { label: 'Landlord', signature: { required: true } },
    tenant: { label: 'Tenant', signature: { required: true } },
  },
  fields: {
    address: { type: 'address', label: 'Property Address', required: true },
    monthlyRent: { type: 'money', label: 'Monthly Rent', required: true },
    startDate: { type: 'date', label: 'Start Date', required: true },
    endDate: { type: 'date', label: 'End Date', required: true },
  },
})
```

```ts tab="Builder Pattern"
import { open } from '@open-form/sdk'

const lease = open
  .form()
  .name('lease-agreement')
  .version('1.0.0')
  .title('Residential Lease Agreement')
  .parties({
    landlord: open.party().label('Landlord').signature({ required: true }),
    tenant: open.party().label('Tenant').signature({ required: true }),
  })
  .fields({
    address: open.field.address().label('Property Address').required(),
    monthlyRent: open.field.money().label('Monthly Rent').required(),
    startDate: open.field.date().label('Start Date').required(),
    endDate: open.field.date().label('End Date').required(),
  })
  .build()
```
</Step>

<Step>
## Add a Layer

Templates define how forms render. Add an inline Markdown template using Handlebars syntax:

```ts tab="Object Pattern"
const lease = open.form({
  name: 'lease-agreement',
  // ...fields and parties
  defaultLayer: 'markdown',
  layers: {
    markdown: {
      kind: 'inline',
      mimeType: 'text/markdown',
      text: `
# Residential Lease Agreement

**Property:** {{address}}
**Monthly Rent:** {{monthlyRent}}
**Term:** {{startDate}} to {{endDate}}

**Landlord:** {{parties.landlord.fullName}}
**Tenant:** {{parties.tenant.fullName}}
      `,
    },
  },
})
```

```ts tab="Builder Pattern"
const lease = open
  .form()
  .name('lease-agreement')
  // ...fields and parties
  .defaultLayer('markdown')
  .layers({
    markdown: open.layer.inline().mimeType('text/markdown').text(`
# Residential Lease Agreement

**Property:** {{address}}
**Monthly Rent:** {{monthlyRent}}
**Term:** {{startDate}} to {{endDate}}

**Landlord:** {{parties.landlord.fullName}}
**Tenant:** {{parties.tenant.fullName}}
    `),
  })
  .build()
```
</Step>

<Step>
## Fill the Form

Use `.fill()` to create a runtime instance with data:

```ts
const filled = lease.fill({
  parties: {
    landlord: { id: 'landlord-1', fullName: 'Jane Smith' },
    tenant: { id: 'tenant-1', fullName: 'John Doe' },
  },
  fields: {
    address: {
      line1: '123 Main St',
      locality: 'Portland',
      region: 'OR',
      postalCode: '97201',
      country: 'USA',
    },
    monthlyRent: { amount: 1500, currency: 'USD' },
    startDate: '2025-02-01',
    endDate: '2026-01-31',
  },
})
```

Party data requires an `id` field—this is used for signature tracking.
</Step>

<Step>
## Render the Form

Render the filled form using the text renderer:

```ts
import { textRenderer } from '@open-form/renderer-text'

const output = await filled.render({
  renderer: textRenderer(),
})

console.log(output)
```

Output:

```markdown
# Residential Lease Agreement

**Property:** 123 Main St, Portland, OR 97201, USA
**Monthly Rent:** $1,500.00
**Term:** February 1, 2025 to January 31, 2026

**Landlord:** Jane Smith
**Tenant:** John Doe
```

Fields are automatically serialized—`money` becomes `$1,500.00`, `address` becomes a formatted string.
</Step>

<Step>
## Save the Artifact

Export the form to JSON or YAML for storage or version control:

```ts
const json = lease.toJSON() // or lease.toYAML()
console.log(JSON.stringify(json, null, 2))
```

```json tab="JSON"
{
  "$schema": "https://schemas.open-form.dev/schema.json",
  "kind": "form",
  "name": "lease-agreement",
  "version": "1.0.0",
  "title": "Residential Lease Agreement",
  "fields": {
    "address": { "type": "address", "label": "Property Address", "required": true },
    "monthlyRent": { "type": "money", "label": "Monthly Rent", "required": true },
    "startDate": { "type": "date", "label": "Start Date", "required": true },
    "endDate": { "type": "date", "label": "End Date", "required": true }
  },
  "parties": {
    "landlord": { "label": "Landlord", "signature": { "required": true } },
    "tenant": { "label": "Tenant", "signature": { "required": true } }
  }
}
```

```yaml tab="YAML"
# yaml-language-server: $schema=https://schemas.open-form.dev/schema.json
kind: form
name: lease-agreement
version: 1.0.0
title: Residential Lease Agreement
fields:
  address:
    type: address
    label: Property Address
    required: true
  monthlyRent:
    type: money
    label: Monthly Rent
    required: true
  startDate:
    type: date
    label: Start Date
    required: true
  endDate:
    type: date
    label: End Date
    required: true
parties:
  landlord:
    label: Landlord
    signature:
      required: true
  tenant:
    label: Tenant
    signature:
      required: true
```

Load it back with `open.load()`:

```ts
const loaded = open.load(jsonString) // works with JSON or YAML
```
</Step>
</Steps>
