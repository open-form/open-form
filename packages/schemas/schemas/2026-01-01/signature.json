{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schema.open-form.dev/2026-01-01/signature.json",
  "title": "Signature",
  "additionalProperties": false,
  "description": "Captured signature data containing the signature image, timestamp, capture method, and optional metadata.",
  "type": "object",
  "properties": {
    "image": {
      "description": "Base64-encoded signature image or data URI",
      "minLength": 1,
      "type": "string"
    },
    "timestamp": {
      "format": "date-time",
      "description": "ISO 8601 date-time when the signature was captured",
      "type": "string"
    },
    "method": {
      "description": "Method used to capture the signature",
      "anyOf": [
        {
          "const": "drawn",
          "type": "string"
        },
        {
          "const": "typed",
          "type": "string"
        },
        {
          "const": "uploaded",
          "type": "string"
        },
        {
          "const": "certificate",
          "type": "string"
        }
      ]
    },
    "type": {
      "default": "signature",
      "description": "Whether this is a full signature or initials",
      "anyOf": [
        {
          "const": "signature",
          "type": "string"
        },
        {
          "const": "initials",
          "type": "string"
        }
      ]
    },
    "metadata": {
      "description": "Additional metadata (IP address, device info, etc.)",
      "type": "object",
      "patternProperties": {
        "^(.*)$": {}
      }
    }
  },
  "required": [
    "timestamp",
    "method"
  ]
}