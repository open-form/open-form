{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schema.open-form.dev/2026-01-01/logicsection.json",
  "id": "LogicSection",
  "type": "object",
  "propertyNames": {
    "description": "Logic expression identifier",
    "type": "string",
    "minLength": 1,
    "maxLength": 100,
    "pattern": "^[a-zA-Z][a-zA-Z0-9_]*$"
  },
  "additionalProperties": {
    "title": "LogicExpression",
    "description": "A typed computed value with optional metadata (label, description). The type property determines the expected result type and value schema.",
    "oneOf": [
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "boolean"
          },
          "value": {
            "description": "Expression that evaluates to a boolean",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "string"
          },
          "value": {
            "description": "Expression that evaluates to a string",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "number"
          },
          "value": {
            "description": "Expression that evaluates to a number",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "integer"
          },
          "value": {
            "description": "Expression that evaluates to an integer",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "percentage"
          },
          "value": {
            "description": "Expression that evaluates to a percentage (0-100)",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "rating"
          },
          "value": {
            "description": "Expression that evaluates to a rating value",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "date"
          },
          "value": {
            "description": "Expression that evaluates to an ISO 8601 date (YYYY-MM-DD)",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "time"
          },
          "value": {
            "description": "Expression that evaluates to a time (HH:MM:SS)",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "datetime"
          },
          "value": {
            "description": "Expression that evaluates to an ISO 8601 datetime",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "duration"
          },
          "value": {
            "description": "Expression that evaluates to an ISO 8601 duration string",
            "type": "string",
            "minLength": 1,
            "maxLength": 2000
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "money"
          },
          "value": {
            "description": "Money object with amount and currency expressions",
            "type": "object",
            "properties": {
              "amount": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "currency": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "amount",
              "currency"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "address"
          },
          "value": {
            "description": "Address object with component expressions",
            "type": "object",
            "properties": {
              "line1": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "line2": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "locality": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "region": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "postalCode": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "country": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "line1",
              "locality",
              "region",
              "postalCode",
              "country"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "phone"
          },
          "value": {
            "description": "Phone object with number and optional type/extension expressions",
            "type": "object",
            "properties": {
              "number": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "type": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "extension": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "number"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "coordinate"
          },
          "value": {
            "description": "Coordinate object with latitude and longitude expressions",
            "type": "object",
            "properties": {
              "lat": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "lon": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "lat",
              "lon"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "bbox"
          },
          "value": {
            "description": "Bounding box with north, south, east, west boundary expressions",
            "type": "object",
            "properties": {
              "north": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "south": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "east": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "west": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "north",
              "south",
              "east",
              "west"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "person"
          },
          "value": {
            "description": "Person object with name component expressions",
            "type": "object",
            "properties": {
              "fullName": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "title": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "firstName": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "middleName": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "lastName": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "suffix": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "fullName"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "organization"
          },
          "value": {
            "description": "Organization object with component expressions",
            "type": "object",
            "properties": {
              "name": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "legalName": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "domicile": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "entityType": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "entityId": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "taxId": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "name"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      },
      {
        "type": "object",
        "properties": {
          "label": {
            "description": "Display label for the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 200
          },
          "description": {
            "description": "Description or documentation of the computed value",
            "type": "string",
            "minLength": 1,
            "maxLength": 1000
          },
          "type": {
            "type": "string",
            "const": "identification"
          },
          "value": {
            "description": "Identification object with type, number, and optional issuer/date expressions",
            "type": "object",
            "properties": {
              "type": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "number": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "issuer": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "issueDate": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              },
              "expiryDate": {
                "description": "Expression string to evaluate",
                "type": "string",
                "minLength": 1,
                "maxLength": 2000
              }
            },
            "required": [
              "type",
              "number"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      }
    ]
  },
  "title": "LogicSection"
}